# Task 4: OpenMP Matrix Multiplication with Profiling

## Описание

Это задание реализует алгоритм умножения матриц с использованием OpenMP и включает детальное профилирование производительности различных частей кода.

## Особенности реализации

### Алгоритмы умножения матриц:
1. **Sequential** - последовательная реализация (базовая линия)
2. **OpenMP Basic** - базовая параллельная реализация с `#pragma omp parallel for`
3. **OpenMP Collapse** - оптимизированная версия с `collapse(2)` и `simd`
4. **OpenMP Schedule** - версия с динамическим планированием `schedule(dynamic, 16)`

### Профилирование:
- Измерение времени выполнения каждой функции
- Расчет GFLOPS для оценки производительности
- Детальное профилирование инициализации, вычислений и верификации
- Анализ масштабируемости по количеству потоков

## Структура проекта

```
task4/
├── src/
│   ├── task4.h      # Заголовочный файл с объявлениями
│   ├── task4.hpp    # Реализация алгоритмов и профилирования
│   └── task4.cpp    # Основная программа
├── data/            # Папка для результатов
├── Makefile         # Сборка проекта
├── run_task4.sbatch # SLURM скрипт для кластера
├── analyze_results.py # Python скрипт для анализа результатов
├── requirements.txt # Python зависимости
├── AI_DEVELOPMENT_REPORT.md # Отчет о разработке с ИИ
└── README.md        # Этот файл
```

## Компиляция и запуск

### Локальная сборка:
```bash
make task4
./task4
```

### Сборка с профилированием:
```bash
make task4_profile
./task4_profile
gprof task4_profile gmon.out > profile_report.txt
```

### Запуск на кластере:
```bash
sbatch run_task4.sbatch
```

## Результаты

Программа генерирует:
- `omp_profiling_results.csv` - результаты профилирования в CSV формате
- Консольный вывод с детальной статистикой
- Анализ масштабируемости по потокам

### Анализ результатов

Для анализа результатов профилирования используйте Python скрипт:

```bash
pip install -r requirements.txt
python analyze_results.py
```

Скрипт генерирует:
- `performance_by_size.png` - график производительности по размерам матриц
- `scalability_analysis.png` - анализ масштабируемости по потокам
- `execution_time_analysis.png` - график времени выполнения
- Детальный текстовый отчет с анализом

## Технические детали

- Поддержка произвольного количества потоков OpenMP
- Автоматическое определение доступности OpenMP
- Кроссплатформенность (macOS/Linux)
- Оптимизация с флагами `-O3`
- Использование современных C++11 возможностей
